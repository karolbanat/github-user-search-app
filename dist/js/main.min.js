"use strict";var toggleThemeBtn,finderInput,finderSubmitBtn,finderError,cardAvatar,cardName,cardLogin,cardDateJoined,cardBio,cardRepos,cardFollowers,cardFollowing,cardLocation,cardBlog,cardTwitter,cardCompany,API_URL_BASE="https://api.github.com/users/",TWITTER_URL_BASE="http://twitter.com/",GITHUB_URL_BASE="https://github.com/",DEFAULT_USERNAME="octocat",DEFAULT_BIO="This profile has no bio.",DEFAULT_LINK_TEXT="Not Available",MOON_ICON="./dist/assets/icon-moon.svg",SUN_ICON="./dist/assets/icon-sun.svg",main=function(){prepareDOMElements(),prepareDOMEvents(),setOnLoadTheme(),setToggleBtnTheme(),loadDefaultUser()},prepareDOMElements=function(){toggleThemeBtn=document.querySelector(".toggle-btn"),finderInput=document.querySelector("#finder-input"),finderSubmitBtn=document.querySelector("#finder-submit"),finderError=document.querySelector("#finder-error"),cardAvatar=document.querySelector("#card-avatar"),cardName=document.querySelector("#card-name"),cardLogin=document.querySelector("#card-login"),cardDateJoined=document.querySelector("#card-date-joined"),cardBio=document.querySelector("#card-bio"),cardRepos=document.querySelector("#card-repos"),cardFollowers=document.querySelector("#card-followers"),cardFollowing=document.querySelector("#card-following"),cardLocation=document.querySelector("#card-location"),cardBlog=document.querySelector("#card-blog"),cardTwitter=document.querySelector("#card-twitter"),cardCompany=document.querySelector("#card-company")},prepareDOMEvents=function(){toggleThemeBtn.addEventListener("click",handleToggleBtn),finderSubmitBtn.addEventListener("click",handleFinderSubmit)},handleFinderSubmit=function(e){e.preventDefault(),finderError.removeAttribute("data-visible"),finderInput.value&&loadUser(finderInput.value)},loadDefaultUser=function(){loadUser(DEFAULT_USERNAME)},loadUser=function(e){e="".concat(API_URL_BASE).concat(e);fetch(e).then(function(e){if(e.ok)return e.json();throw new Error}).then(function(e){return setData(e)}).catch(function(e){finderError.setAttribute("data-visible","visible")})},setData=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.avatar_url,n=e.name,r=e.login,o=e.created_at,a=e.bio,c=e.public_repos,i=e.followers,d=e.following,s=e.location,l=e.blog,u=e.twitter_username,e=e.company;setAvatar(t,n),setName(n),setLogin(r,n),setDateJoined(o),setBio(a),setStatistics(c,i,d),setLocation(s),setBlog(l),setTwitter(u),setCompany(e)},setAvatar=function(e,t){cardAvatar.src=e,cardAvatar.alt=t},setName=function(e){cardName.innerText=e},setLogin=function(e,t){e=e||formatName(t);cardLogin.innerText="@".concat(e)},formatName=function(e){return e.toLowerCase().split(" ").join("")},setDateJoined=function(e){var e=new Date(e),t=e.getFullYear(),n=e.getMonth()+1,r=getMonth(n-1),e=e.getDate();cardDateJoined.innerText="".concat(e," ").concat(r," ").concat(t),cardDateJoined.setAttribute("datetime","".concat(t,"-").concat(formatMonthNumber(n),"-").concat(e))},getMonth=function(e){return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e]},formatMonthNumber=function(e){return"".concat(e<10?"0":"").concat(e)},setBio=function(e){e?(cardBio.innerText=e,cardBio.classList.remove("faded")):(cardBio.innerText=DEFAULT_BIO,cardBio.classList.add("faded"))},setStatistics=function(e,t,n){setRepos(e),setFollowers(t),setFollowing(n)},setRepos=function(e){cardRepos.innerText=e},setFollowers=function(e){cardFollowers.innerText=e},setFollowing=function(e){cardFollowing.innerText=e},setLocation=function(e){e&&(cardLocation.innerText=e,cardLocation.classList.remove("faded")),cardLocation.innerText=DEFAULT_LINK_TEXT,cardLocation.classList.add("faded")},setBlog=function(e){e?(cardBlog.innerText=e,cardBlog.setAttribute("href",e.startsWith("https://")||e.startsWith("http://")?e:"https://".concat(e)),setBlankLink(cardBlog),cardBlog.classList.remove("faded")):setDefaultLink(cardBlog)},setTwitter=function(e){e?(cardTwitter.innerText="@".concat(e),cardTwitter.setAttribute("href","".concat(TWITTER_URL_BASE).concat(e)),setBlankLink(cardTwitter),cardTwitter.classList.remove("faded")):setDefaultLink(cardTwitter)},setCompany=function(e){e?(cardCompany.innerText=e,cardCompany.setAttribute("href","".concat(GITHUB_URL_BASE).concat(e.startsWith("@")?e.slice(1):e)),setBlankLink(cardCompany),cardCompany.classList.remove("faded")):setDefaultLink(cardCompany)},setBlankLink=function(e){e.setAttribute("rel","noreferrer noopener"),e.setAttribute("target","_blank")},setDefaultLink=function(e){e.innerText=DEFAULT_LINK_TEXT,e.setAttribute("href","#"),e.removeAttribute("rel"),e.removeAttribute("target"),e.classList.add("faded")},handleToggleBtn=function(){"light"===document.body.dataset.theme?document.body.dataset.theme="dark":document.body.dataset.theme="light",setToggleBtnTheme()},setToggleBtnTheme=function(){var e=toggleThemeBtn.querySelector("span"),t=toggleThemeBtn.querySelector("img");"light"===document.body.dataset.theme?(e.innerText="dark",t.src=MOON_ICON):(e.innerText="light",t.src=SUN_ICON)},setOnLoadTheme=function(){window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(document.body.dataset.theme="dark")};document.addEventListener("DOMContentLoaded",main);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsidG9nZ2xlVGhlbWVCdG4iLCJmaW5kZXJJbnB1dCIsImZpbmRlclN1Ym1pdEJ0biIsImNhcmRBdmF0YXIiLCJjYXJkTmFtZSIsImNhcmRMb2dpbiIsImNhcmREYXRlSm9pbmVkIiwiY2FyZEJpbyIsImNhcmRSZXBvcyIsImNhcmRGb2xsb3dlcnMiLCJjYXJkRm9sbG93aW5nIiwiY2FyZExvY2F0aW9uIiwiY2FyZEJsb2ciLCJjYXJkVHdpdHRlciIsImNhcmRDb21wYW55IiwiVFdJVFRFUl9VUkxfQkFTRSIsIkdJVEhVQl9VUkxfQkFTRSIsIkRFRkFVTFRfVVNFUk5BTUUiLCJERUZBVUxUX0xJTktfVEVYVCIsIk1PT05fSUNPTiIsIlNVTl9JQ09OIiwibWFpbiIsInByZXBhcmVET01FbGVtZW50cyIsInNldE9uTG9hZFRoZW1lIiwicHJlcGFyZURPTUV2ZW50cyIsInNldFRvZ2dsZUJ0blRoZW1lIiwibG9hZERlZmF1bHRVc2VyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZmluZGVyRXJyb3IiLCJhZGRFdmVudExpc3RlbmVyIiwicHJldmVudERlZmF1bHQiLCJyZW1vdmVBdHRyaWJ1dGUiLCJoYW5kbGVUb2dnbGVCdG4iLCJsb2FkVXNlciIsImUiLCJ2YWx1ZSIsInVzZXJuYW1lIiwic2V0QXR0cmlidXRlIiwiZmV0Y2giLCJ1cmwiLCJ0aGVuIiwicmVzIiwib2siLCJzZXREYXRhIiwianNvbiIsIkVycm9yIiwiYXZhdGFyX3VybCIsIm5hbWUiLCJlcnJvciIsImZvbGxvd2VycyIsInNldExvY2F0aW9uIiwibG9naW4iLCJjcmVhdGVkX2F0IiwiYmlvIiwicHVibGljX3JlcG9zIiwiZm9sbG93aW5nIiwibG9jYXRpb24iLCJibG9nIiwidHdpdHRlcl91c2VybmFtZSIsImNvbXBhbnkiLCJzZXRBdmF0YXIiLCJzZXROYW1lIiwic2V0VHdpdHRlciIsInNldExvZ2luIiwic2V0Q29tcGFueSIsInNldERhdGVKb2luZWQiLCJzZXRCaW8iLCJzZXRTdGF0aXN0aWNzIiwic3JjIiwic2V0QmxvZyIsImFsdCIsImlubmVyVGV4dCIsInVzZXJMb2dpbiIsImZvcm1hdE5hbWUiLCJjb25jYXQiLCJtb250aE51bWJlciIsImRhdGUiLCJtb250aCIsInRvTG93ZXJDYXNlIiwiam9pbiIsIkRhdGUiLCJ5ZWFyIiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsIm1vbnRocyIsImRheSIsImZvcm1hdE1vbnRoTnVtYmVyIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwic2V0Rm9sbG93ZXJzIiwic2V0Rm9sbG93aW5nIiwic2V0UmVwb3MiLCJyZXBvcyIsImFkZCIsInN0YXJ0c1dpdGgiLCJzZXREZWZhdWx0TGluayIsInNldEJsYW5rTGluayIsInNsaWNlIiwiZWxlbWVudCIsImRhdGFzZXQiLCJib2R5IiwidGhlbWUiLCJ0b2dnbGVCdG5JY29uIiwidG9nZ2xlQnRuVGV4dCIsIndpbmRvdyIsIm1hdGNoTWVkaWEiLCJtYXRjaGVzIl0sIm1hcHBpbmdzIjoiYUFBQSxJQUFJQSxlQUFBQSxZQUVBQyxnQkFDQUMsWUFHQUMsV0FBWUMsU0FBVUMsVUFBV0MsZUFDakNDLFFBQ0FDLFVBQVdDLGNBQWVDLGNBQzFCQyxhQUFjQyxTQUFVQyxZQUFhQyxZQUduQ0MsYUFBZ0IsZ0NBQ2hCQyxpQkFBa0Isc0JBRWxCQyxnQkFBbUIsc0JBRW5CQyxpQkFBb0IsVUFFcEJDLFlBQVksMkJBQ1pDLGtCQUFXLGdCQUVYQyxVQUFPLDhCQUNaQyxTQUFBQSw2QkFFQUMsS0FBQUEsV0FGQUQscUJBQ0FFLG1CQUZERCxpQkFJQ0Usb0JBSURDLG1CQUlDeEIsbUJBQWtCeUIsV0FIbEIzQixlQUljMkIsU0FBU0MsY0FBYyxlQUZyQzNCLFlBS1cwQixTQUFTQyxjQUFjLGlCQUpsQzFCLGdCQUtZeUIsU0FBU0MsY0FBYyxrQkFKbkNDLFlBS0F2QixTQUFpQnFCLGNBQVNDLGlCQUgxQnpCLFdBTVl3QixTQUFTQyxjQUFjLGdCQUxuQ3hCLFNBTUFLLFNBQWdCa0IsY0FB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M0QsaUJBSEEyRCxPQUdBZixFQUFBbUMsV0FBQSxLQUFBbkMsRUFBQXNDLE1BQUEsR0FBQXRDLElBQ0FxQyxhQUFBbkYsYUFGQUEsWUFBWTBFLFVBQVVDLE9BQU8sVUFHOUJPLGVBQWVsRixjQUtmcUYsYUFBUTdELFNBQVI2RCxHQUZEQSxFQUFBN0QsYUFBQSxNQUFBLHVCQUVDNkQsRUFBUTdELGFBQWEsU0FBVSxXQUsvQjZELGVBQXFCLFNBQUFBLEdBRHJCQSxFQUVPM0IsVUFBQ3hDLGtCQURSbUUsRUFFTzdELGFBQUNOLE9BQWdCLEtBRHhCbUUsRUFFT25FLGdCQUFlLE9BTHZCbUUsRUFRQW5FLGdCQUFBLFVBSENtRSxFQUFRWCxVQUFVTSxJQUFJLFVBTXJCbkUsZ0JBQWN5RSxXQUNSLFVBRlB6RSxTQUVPMEUsS0FBQUQsUUFBQUUsTUFETjNFLFNBRUFBLEtBQVMwRSxRQUFLRCxNQUFkLE9BQUF6RSxTQUFTMEUsS0FBS0QsUUFBUUUsTUFBUSxRQUcvQjdFLHFCQUtNOEUsa0JBQWdCdkcsV0FEdEIsSUFBTXdHLEVBQWdCeEcsZUFBZTRCLGNBQWMsUUFHL0NELEVBQWN5RSxlQUFrQnhFLGNBQVMsT0FFNUMsVUFBQTJFLFNBQUFBLEtBQWNsQyxRQUFNbEQsT0FDcEJxRixFQUFNaEMsVUFBQSxPQUROK0IsRUFFQUMsSUFBY2hDLFlBRWRnQyxFQUFBaEMsVUFBQSxRQVZGK0IsRUFBQWxDLElBQUFqRCxXQWVFTyxlQUFjeUUsV0FDZEssT0FBQUMsWUFBQUQsT0FBQUMsV0FBQSxnQ0FBQUMsVUFIRmhGLFNBQUEwRSxLQUFBRCxRQUFBRSxNQUFBLFNBTUEzRSxTQUFTRyxpQkFBaUIsbUJBQW9CVCIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImxldCB0b2dnbGVUaGVtZUJ0bjtcclxuXHJcbmxldCBmaW5kZXJJbnB1dDtcclxubGV0IGZpbmRlclN1Ym1pdEJ0bjtcclxubGV0IGZpbmRlckVycm9yO1xyXG5cclxubGV0IGNhcmRBdmF0YXIsIGNhcmROYW1lLCBjYXJkTG9naW4sIGNhcmREYXRlSm9pbmVkO1xyXG5sZXQgY2FyZEJpbztcclxubGV0IGNhcmRSZXBvcywgY2FyZEZvbGxvd2VycywgY2FyZEZvbGxvd2luZztcclxubGV0IGNhcmRMb2NhdGlvbiwgY2FyZEJsb2csIGNhcmRUd2l0dGVyLCBjYXJkQ29tcGFueTtcclxuXHJcbmNvbnN0IEFQSV9VUkxfQkFTRSA9ICdodHRwczovL2FwaS5naXRodWIuY29tL3VzZXJzLyc7XHJcbmNvbnN0IFRXSVRURVJfVVJMX0JBU0UgPSAnaHR0cDovL3R3aXR0ZXIuY29tLyc7XHJcbmNvbnN0IEdJVEhVQl9VUkxfQkFTRSA9ICdodHRwczovL2dpdGh1Yi5jb20vJztcclxuXHJcbmNvbnN0IERFRkFVTFRfVVNFUk5BTUUgPSAnb2N0b2NhdCc7XHJcbmNvbnN0IERFRkFVTFRfQklPID0gJ1RoaXMgcHJvZmlsZSBoYXMgbm8gYmlvLic7XHJcbmNvbnN0IERFRkFVTFRfTElOS19URVhUID0gJ05vdCBBdmFpbGFibGUnO1xyXG5cclxuY29uc3QgTU9PTl9JQ09OID0gJy4vZGlzdC9hc3NldHMvaWNvbi1tb29uLnN2Zyc7XHJcbmNvbnN0IFNVTl9JQ09OID0gJy4vZGlzdC9hc3NldHMvaWNvbi1zdW4uc3ZnJztcclxuXHJcbmNvbnN0IG1haW4gPSAoKSA9PiB7XHJcblx0cHJlcGFyZURPTUVsZW1lbnRzKCk7XHJcblx0cHJlcGFyZURPTUV2ZW50cygpO1xyXG5cdHNldE9uTG9hZFRoZW1lKCk7XHJcblx0c2V0VG9nZ2xlQnRuVGhlbWUoKTtcclxuXHRsb2FkRGVmYXVsdFVzZXIoKTtcclxufTtcclxuXHJcbmNvbnN0IHByZXBhcmVET01FbGVtZW50cyA9ICgpID0+IHtcclxuXHR0b2dnbGVUaGVtZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2dnbGUtYnRuJyk7XHJcblxyXG5cdGZpbmRlcklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZpbmRlci1pbnB1dCcpO1xyXG5cdGZpbmRlclN1Ym1pdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmaW5kZXItc3VibWl0Jyk7XHJcblx0ZmluZGVyRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZmluZGVyLWVycm9yJyk7XHJcblxyXG5cdGNhcmRBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2FyZC1hdmF0YXInKTtcclxuXHRjYXJkTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjYXJkLW5hbWUnKTtcclxuXHRjYXJkTG9naW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2FyZC1sb2dpbicpO1xyXG5cdGNhcmREYXRlSm9pbmVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NhcmQtZGF0ZS1qb2luZWQnKTtcclxuXHJcblx0Y2FyZEJpbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjYXJkLWJpbycpO1xyXG5cdGNhcmRSZXBvcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjYXJkLXJlcG9zJyk7XHJcblx0Y2FyZEZvbGxvd2VycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjYXJkLWZvbGxvd2VycycpO1xyXG5cdGNhcmRGb2xsb3dpbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2FyZC1mb2xsb3dpbmcnKTtcclxuXHJcblx0Y2FyZExvY2F0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NhcmQtbG9jYXRpb24nKTtcclxuXHRjYXJkQmxvZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjYXJkLWJsb2cnKTtcclxuXHRjYXJkVHdpdHRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjYXJkLXR3aXR0ZXInKTtcclxuXHRjYXJkQ29tcGFueSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjYXJkLWNvbXBhbnknKTtcclxufTtcclxuXHJcbmNvbnN0IHByZXBhcmVET01FdmVudHMgPSAoKSA9PiB7XHJcblx0dG9nZ2xlVGhlbWVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVUb2dnbGVCdG4pO1xyXG5cdGZpbmRlclN1Ym1pdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUZpbmRlclN1Ym1pdCk7XHJcbn07XHJcblxyXG4vLyBmaW5kZXIgZGF0YSBzZXR0aW5nXHJcbmNvbnN0IGhhbmRsZUZpbmRlclN1Ym1pdCA9IChlKSA9PiB7XHJcblx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdGZpbmRlckVycm9yLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS12aXNpYmxlJyk7XHJcblx0aWYgKGZpbmRlcklucHV0LnZhbHVlKSBsb2FkVXNlcihmaW5kZXJJbnB1dC52YWx1ZSk7XHJcbn07XHJcblxyXG5jb25zdCBsb2FkRGVmYXVsdFVzZXIgPSAoKSA9PiB7XHJcblx0bG9hZFVzZXIoREVGQVVMVF9VU0VSTkFNRSk7XHJcbn07XHJcblxyXG5jb25zdCBsb2FkVXNlciA9ICh1c2VybmFtZSkgPT4ge1xyXG5cdGNvbnN0IHVybCA9IGAke0FQSV9VUkxfQkFTRX0ke3VzZXJuYW1lfWA7XHJcblx0ZmV0Y2godXJsKVxyXG5cdFx0LnRoZW4oKHJlcykgPT4ge1xyXG5cdFx0XHRpZiAoIXJlcy5vaykgdGhyb3cgbmV3IEVycm9yKCk7XHJcblx0XHRcdHJldHVybiByZXMuanNvbigpO1xyXG5cdFx0fSlcclxuXHRcdC50aGVuKChyZXMpID0+IHNldERhdGEocmVzKSlcclxuXHRcdC5jYXRjaCgoZXJyb3IpID0+IHtcclxuXHRcdFx0ZmluZGVyRXJyb3Iuc2V0QXR0cmlidXRlKCdkYXRhLXZpc2libGUnLCAndmlzaWJsZScpO1xyXG5cdFx0fSk7XHJcbn07XHJcblxyXG5jb25zdCBzZXREYXRhID0gKHtcclxuXHRhdmF0YXJfdXJsLFxyXG5cdG5hbWUsXHJcblx0bG9naW4sXHJcblx0Y3JlYXRlZF9hdCxcclxuXHRiaW8sXHJcblx0cHVibGljX3JlcG9zLFxyXG5cdGZvbGxvd2VycyxcclxuXHRmb2xsb3dpbmcsXHJcblx0bG9jYXRpb24sXHJcblx0YmxvZyxcclxuXHR0d2l0dGVyX3VzZXJuYW1lLFxyXG5cdGNvbXBhbnksXHJcbn0gPSB7fSkgPT4ge1xyXG5cdHNldEF2YXRhcihhdmF0YXJfdXJsLCBuYW1lKTtcclxuXHRzZXROYW1lKG5hbWUpO1xyXG5cdHNldExvZ2luKGxvZ2luLCBuYW1lKTtcclxuXHRzZXREYXRlSm9pbmVkKGNyZWF0ZWRfYXQpO1xyXG5cdHNldEJpbyhiaW8pO1xyXG5cdHNldFN0YXRpc3RpY3MocHVibGljX3JlcG9zLCBmb2xsb3dlcnMsIGZvbGxvd2luZyk7XHJcblx0c2V0TG9jYXRpb24obG9jYXRpb24pO1xyXG5cdHNldEJsb2coYmxvZyk7XHJcblx0c2V0VHdpdHRlcih0d2l0dGVyX3VzZXJuYW1lKTtcclxuXHRzZXRDb21wYW55KGNvbXBhbnkpO1xyXG59O1xyXG5cclxuY29uc3Qgc2V0QXZhdGFyID0gKGF2YXRhcl91cmwsIG5hbWUpID0+IHtcclxuXHRjYXJkQXZhdGFyLnNyYyA9IGF2YXRhcl91cmw7XHJcblx0Y2FyZEF2YXRhci5hbHQgPSBuYW1lO1xyXG59O1xyXG5cclxuY29uc3Qgc2V0TmFtZSA9IChuYW1lKSA9PiB7XHJcblx0Y2FyZE5hbWUuaW5uZXJUZXh0ID0gbmFtZTtcclxufTtcclxuXHJcbmNvbnN0IHNldExvZ2luID0gKGxvZ2luLCBuYW1lKSA9PiB7XHJcblx0Y29uc3QgdXNlckxvZ2luID0gbG9naW4gPyBsb2dpbiA6IGZvcm1hdE5hbWUobmFtZSk7XHJcblx0Y2FyZExvZ2luLmlubmVyVGV4dCA9IGBAJHt1c2VyTG9naW59YDtcclxufTtcclxuXHJcbmNvbnN0IGZvcm1hdE5hbWUgPSAobmFtZSkgPT4ge1xyXG5cdHJldHVybiBuYW1lLnRvTG93ZXJDYXNlKCkuc3BsaXQoJyAnKS5qb2luKCcnKTtcclxufTtcclxuXHJcbmNvbnN0IHNldERhdGVKb2luZWQgPSAoY3JlYXRlZF9hdCkgPT4ge1xyXG5cdGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShjcmVhdGVkX2F0KTtcclxuXHRjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xyXG5cdGNvbnN0IG1vbnRoTnVtYmVyID0gZGF0ZS5nZXRNb250aCgpICsgMTtcclxuXHRjb25zdCBtb250aCA9IGdldE1vbnRoKG1vbnRoTnVtYmVyIC0gMSk7XHJcblx0Y29uc3QgZGF5ID0gZGF0ZS5nZXREYXRlKCk7XHJcblx0Y2FyZERhdGVKb2luZWQuaW5uZXJUZXh0ID0gYCR7ZGF5fSAke21vbnRofSAke3llYXJ9YDtcclxuXHRjYXJkRGF0ZUpvaW5lZC5zZXRBdHRyaWJ1dGUoJ2RhdGV0aW1lJywgYCR7eWVhcn0tJHtmb3JtYXRNb250aE51bWJlcihtb250aE51bWJlcil9LSR7ZGF5fWApO1xyXG59O1xyXG5cclxuY29uc3QgZ2V0TW9udGggPSAobW9udGgpID0+IHtcclxuXHRjb25zdCBtb250aHMgPSBbJ0phbicsICdGZWInLCAnTWFyJywgJ0FwcicsICdNYXknLCAnSnVuJywgJ0p1bCcsICdBdWcnLCAnU2VwJywgJ09jdCcsICdOb3YnLCAnRGVjJ107XHJcblx0cmV0dXJuIG1vbnRoc1ttb250aF07XHJcbn07XHJcblxyXG5jb25zdCBmb3JtYXRNb250aE51bWJlciA9IChtb250aE51bWJlcikgPT4ge1xyXG5cdGNvbnN0IHByZWZpeCA9IG1vbnRoTnVtYmVyIDwgMTAgPyAnMCcgOiAnJztcclxuXHRyZXR1cm4gYCR7cHJlZml4fSR7bW9udGhOdW1iZXJ9YDtcclxufTtcclxuXHJcbmNvbnN0IHNldEJpbyA9IChiaW8pID0+IHtcclxuXHRpZiAoYmlvKSB7XHJcblx0XHRjYXJkQmlvLmlubmVyVGV4dCA9IGJpbztcclxuXHRcdGNhcmRCaW8uY2xhc3NMaXN0LnJlbW92ZSgnZmFkZWQnKTtcclxuXHRcdHJldHVybjtcclxuXHR9XHJcblx0Y2FyZEJpby5pbm5lclRleHQgPSBERUZBVUxUX0JJTztcclxuXHRjYXJkQmlvLmNsYXNzTGlzdC5hZGQoJ2ZhZGVkJyk7XHJcbn07XHJcblxyXG5jb25zdCBzZXRTdGF0aXN0aWNzID0gKHJlcG9zLCBmb2xsb3dlcnMsIGZvbGxvd2luZykgPT4ge1xyXG5cdHNldFJlcG9zKHJlcG9zKTtcclxuXHRzZXRGb2xsb3dlcnMoZm9sbG93ZXJzKTtcclxuXHRzZXRGb2xsb3dpbmcoZm9sbG93aW5nKTtcclxufTtcclxuXHJcbmNvbnN0IHNldFJlcG9zID0gKHJlcG9zKSA9PiB7XHJcblx0Y2FyZFJlcG9zLmlubmVyVGV4dCA9IHJlcG9zO1xyXG59O1xyXG5cclxuY29uc3Qgc2V0Rm9sbG93ZXJzID0gKGZvbGxvd2VycykgPT4ge1xyXG5cdGNhcmRGb2xsb3dlcnMuaW5uZXJUZXh0ID0gZm9sbG93ZXJzO1xyXG59O1xyXG5cclxuY29uc3Qgc2V0Rm9sbG93aW5nID0gKGZvbGxvd2luZykgPT4ge1xyXG5cdGNhcmRGb2xsb3dpbmcuaW5uZXJUZXh0ID0gZm9sbG93aW5nO1xyXG59O1xyXG5cclxuY29uc3Qgc2V0TG9jYXRpb24gPSAobG9jYXRpb24pID0+IHtcclxuXHRpZiAobG9jYXRpb24pIHtcclxuXHRcdGNhcmRMb2NhdGlvbi5pbm5lclRleHQgPSBsb2NhdGlvbjtcclxuXHRcdGNhcmRMb2NhdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdmYWRlZCcpO1xyXG5cdH1cclxuXHRjYXJkTG9jYXRpb24uaW5uZXJUZXh0ID0gREVGQVVMVF9MSU5LX1RFWFQ7XHJcblx0Y2FyZExvY2F0aW9uLmNsYXNzTGlzdC5hZGQoJ2ZhZGVkJyk7XHJcbn07XHJcblxyXG5jb25zdCBzZXRCbG9nID0gKGJsb2cpID0+IHtcclxuXHRpZiAoYmxvZykge1xyXG5cdFx0Y2FyZEJsb2cuaW5uZXJUZXh0ID0gYmxvZztcclxuXHRcdGNhcmRCbG9nLnNldEF0dHJpYnV0ZSgnaHJlZicsIGJsb2cuc3RhcnRzV2l0aCgnaHR0cHM6Ly8nKSB8fCBibG9nLnN0YXJ0c1dpdGgoJ2h0dHA6Ly8nKSA/IGJsb2cgOiBgaHR0cHM6Ly8ke2Jsb2d9YCk7XHJcblx0XHRzZXRCbGFua0xpbmsoY2FyZEJsb2cpO1xyXG5cdFx0Y2FyZEJsb2cuY2xhc3NMaXN0LnJlbW92ZSgnZmFkZWQnKTtcclxuXHRcdHJldHVybjtcclxuXHR9XHJcblx0c2V0RGVmYXVsdExpbmsoY2FyZEJsb2cpO1xyXG59O1xyXG5cclxuY29uc3Qgc2V0VHdpdHRlciA9ICh1c2VybmFtZSkgPT4ge1xyXG5cdGlmICh1c2VybmFtZSkge1xyXG5cdFx0Y2FyZFR3aXR0ZXIuaW5uZXJUZXh0ID0gYEAke3VzZXJuYW1lfWA7XHJcblx0XHRjYXJkVHdpdHRlci5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBgJHtUV0lUVEVSX1VSTF9CQVNFfSR7dXNlcm5hbWV9YCk7XHJcblx0XHRzZXRCbGFua0xpbmsoY2FyZFR3aXR0ZXIpO1xyXG5cdFx0Y2FyZFR3aXR0ZXIuY2xhc3NMaXN0LnJlbW92ZSgnZmFkZWQnKTtcclxuXHRcdHJldHVybjtcclxuXHR9XHJcblx0c2V0RGVmYXVsdExpbmsoY2FyZFR3aXR0ZXIpO1xyXG59O1xyXG5cclxuY29uc3Qgc2V0Q29tcGFueSA9IChjb21wYW55KSA9PiB7XHJcblx0aWYgKGNvbXBhbnkpIHtcclxuXHRcdGNhcmRDb21wYW55LmlubmVyVGV4dCA9IGNvbXBhbnk7XHJcblx0XHRjYXJkQ29tcGFueS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBgJHtHSVRIVUJfVVJMX0JBU0V9JHtjb21wYW55LnN0YXJ0c1dpdGgoJ0AnKSA/IGNvbXBhbnkuc2xpY2UoMSkgOiBjb21wYW55fWApO1xyXG5cdFx0c2V0QmxhbmtMaW5rKGNhcmRDb21wYW55KTtcclxuXHRcdGNhcmRDb21wYW55LmNsYXNzTGlzdC5yZW1vdmUoJ2ZhZGVkJyk7XHJcblx0XHRyZXR1cm47XHJcblx0fVxyXG5cdHNldERlZmF1bHRMaW5rKGNhcmRDb21wYW55KTtcclxufTtcclxuXHJcbmNvbnN0IHNldEJsYW5rTGluayA9IChlbGVtZW50KSA9PiB7XHJcblx0ZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3JlbCcsICdub3JlZmVycmVyIG5vb3BlbmVyJyk7XHJcblx0ZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3RhcmdldCcsICdfYmxhbmsnKTtcclxufTtcclxuXHJcbmNvbnN0IHNldERlZmF1bHRMaW5rID0gKGVsZW1lbnQpID0+IHtcclxuXHRlbGVtZW50LmlubmVyVGV4dCA9IERFRkFVTFRfTElOS19URVhUO1xyXG5cdGVsZW1lbnQuc2V0QXR0cmlidXRlKCdocmVmJywgJyMnKTtcclxuXHRlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgncmVsJyk7XHJcblx0ZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ3RhcmdldCcpO1xyXG5cdGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZmFkZWQnKTtcclxufTtcclxuXHJcbi8vIHRvZ2dsZSB0aGVtZSBidXR0b25cclxuY29uc3QgaGFuZGxlVG9nZ2xlQnRuID0gKCkgPT4ge1xyXG5cdGlmIChkb2N1bWVudC5ib2R5LmRhdGFzZXQudGhlbWUgPT09ICdsaWdodCcpIHtcclxuXHRcdGRvY3VtZW50LmJvZHkuZGF0YXNldC50aGVtZSA9ICdkYXJrJztcclxuXHR9IGVsc2Uge1xyXG5cdFx0ZG9jdW1lbnQuYm9keS5kYXRhc2V0LnRoZW1lID0gJ2xpZ2h0JztcclxuXHR9XHJcblxyXG5cdHNldFRvZ2dsZUJ0blRoZW1lKCk7XHJcbn07XHJcblxyXG5jb25zdCBzZXRUb2dnbGVCdG5UaGVtZSA9ICgpID0+IHtcclxuXHRjb25zdCB0b2dnbGVCdG5UZXh0ID0gdG9nZ2xlVGhlbWVCdG4ucXVlcnlTZWxlY3Rvcignc3BhbicpO1xyXG5cdGNvbnN0IHRvZ2dsZUJ0bkljb24gPSB0b2dnbGVUaGVtZUJ0bi5xdWVyeVNlbGVjdG9yKCdpbWcnKTtcclxuXHJcblx0aWYgKGRvY3VtZW50LmJvZHkuZGF0YXNldC50aGVtZSA9PT0gJ2xpZ2h0Jykge1xyXG5cdFx0dG9nZ2xlQnRuVGV4dC5pbm5lclRleHQgPSAnZGFyayc7XHJcblx0XHR0b2dnbGVCdG5JY29uLnNyYyA9IE1PT05fSUNPTjtcclxuXHR9IGVsc2Uge1xyXG5cdFx0dG9nZ2xlQnRuVGV4dC5pbm5lclRleHQgPSAnbGlnaHQnO1xyXG5cdFx0dG9nZ2xlQnRuSWNvbi5zcmMgPSBTVU5fSUNPTjtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBzZXRPbkxvYWRUaGVtZSA9ICgpID0+IHtcclxuXHRpZiAod2luZG93Lm1hdGNoTWVkaWEgJiYgd2luZG93Lm1hdGNoTWVkaWEoJyhwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayknKS5tYXRjaGVzKSB7XHJcblx0XHRkb2N1bWVudC5ib2R5LmRhdGFzZXQudGhlbWUgPSAnZGFyayc7XHJcblx0fVxyXG59O1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIG1haW4pO1xyXG4iXX0=
